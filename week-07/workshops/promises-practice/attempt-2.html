<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Challenge 2 | Promise practice</title>
  </head>
  <body>
    <h1>Open the console</h1>
    <script>
      //Use fetch to request data from "https://pokeapi.co/api/v2/pokemon/pikachu"
      // Once your code has the response it should grab the species.url property and make a new request to that
      // Once your code has that response it should grab the shape.url property and make a final request to that
      // Log the final response body. It should look something like this:

      // {
      //  "awesome_names": [...],
      //  "id": 8,
      //  "name": "quadruped",
      //  "names": [...],
      //  "pokemon_species": [...]
      // }

      // write your code here
      const fetchURLbody = (url) =>
        fetch(url).then((response) => response.json());

      fetchURLbody('https://pokeapi.co/api/v2/pokemon/pikachu')
        .then((pok) => fetchURLbody(pok.species.url))
        .then((spec) => fetchURLbody(spec.shape.url))
        .then(console.log)
        .catch(console.error);

      /*Long version:
      function fetchURL(url) {
        return fetch(url).then((response) => response.json());
      }
      
      fetchURL('https://pokeapi.co/api/v2/pokemon/pikachu')
        .then((pok) => pok.species.url)
        .then((url) => fetchURL(url))
        .then((spec) => spec.shape.url)
        .then((shape) => fetchURL(shape))
        .then(console.log)
        .catch(console.error);
      */
    </script>
  </body>
</html>
